<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Color Legend Element Demo</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../node_modules/lit/polyfill-support.js"></script>
    <script type="module" src="../build/color-legend-element.js"></script>
    <link href="docs/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="docs/index.css" />
  </head>
  <body>
    <header>
      <h1>Color Legend Element</h1>
      <p>
        A Custom Element suitable for use as a legend in data visualizations.
        <br />
        Inspired by the
        <a href="https://observablehq.com/@d3/color-legend" target="_blank"
          >Observable Color Legend</a
        >
        by
        <a target="_blank" href="https://observablehq.com/@mbostock"
          >Mike Bostock</a
        >.
      </p>
      <p>
        Copyright 2021,
        <a target="_blank" href="https://clhenrick.io/">Chris Henrick</a>, under
        the
        <a
          target="_blank"
          href="https://github.com/clhenrick/color-legend-element/blob/main/LICENSE"
          >MIT License</a
        >.
      </p>
    </header>

    <main>
      <h2>Usage</h2>

      <h3>Continuous</h3>

      <div class="example">
        <color-legend></color-legend>

        <script type="text/plain" class="language-markup">
          <color-legend></color-legend>
        </script>
      </div>

      <h3>Continuous with an interpolator</h3>

      <div class="example">
        <color-legend
          class="continuous-with-interpolator"
          titleText="Temperature (°C)"
          scaleType="continuous"
          tickFormat=".0f"
          domain="[0, 100]"
        >
        </color-legend>

        <script>
          document.querySelector(
            "color-legend.continuous-with-interpolator"
          ).interpolator = d3.interpolateViridis;
        </script>

        <script type="text/plain" class="language-markup">
          <color-legend
            class="continuous-with-interpolator"
            titletext="Temperature (°C)"
            scaletype="continuous"
            tickFormat=".0f"
            domain="[0, 100]"
          >
          </color-legend>
        </script>

        <script type="text/plain" class="language-javascript">
          document.querySelector(
            "color-legend.continuous-with-interpolator"
          ).interpolator = d3.interpolateViridis;
        </script>
      </div>

      <h3>Discrete</h3>

      <div class="example">
        <color-legend
          titleText="Unemployment Rate (%)"
          tickFormat=".1f"
          scaleType="discrete"
          domain="[0.1, 1]"
          range='["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]'
        >
        </color-legend>

        <script type="text/plain" class="language-markup">
          <color-legend
            titleText="Unemployment Rate (%)"
            tickFormat=".1f"
            scaleType="discrete"
            domain="[0.1, 1]"
            range='["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]'
          >
          </color-legend>
        </script>
      </div>

      <h3>Threshold</h3>

      <div class="example">
        <color-legend
          titleText="Number of Incidents"
          scaleType="threshold"
          tickFormat=".0f"
          domain="[0, 11, 22, 33, 50, 100]"
          range='["#fee5d9", "#fcae91", "#fb6a4a", "#de2d26", "#a50f15"]'
        >
        </color-legend>

        <script type="text/plain" class="language-markup">
          <color-legend
            titleText="Number of Incidents"
            scaleType="threshold"
            tickFormat=".0f"
            domain="[0, 11, 22, 33, 50, 100]"
            range='["#fee5d9", "#fcae91", "#fb6a4a", "#de2d26", "#a50f15"]'
          >
          </color-legend>
        </script>
      </div>

      <h3>Categorical with default markType (circle)</h3>

      <div class="example">
        <color-legend
          titleText="Business Sectors"
          scaleType="categorical"
          domain='["Agriculture","Business services","Construction","Education and Health","Finance","Government"]'
          range='["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949"]'
        >
        </color-legend>

        <script type="text/plain" class="language-markup">
          <color-legend
            titleText="Business Sectors"
            scaleType="categorical"
            domain='["Agriculture","Business services","Construction","Education and Health","Finance","Government"]'
            range='["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949"]'
          >
          </color-legend>
        </script>
      </div>

      <h3>Categorical with markType set to rect</h3>

      <div class="example">
        <color-legend
          titleText="Business Sectors"
          scaleType="categorical"
          domain='["Agriculture","Business services","Construction","Education and Health","Finance","Government"]'
          range='["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949"]'
          markType="rect"
        >
        </color-legend>

        <script type="text/plain" class="language-markup">
          <color-legend
            titleText="Business Sectors"
            scaleType="categorical"
            domain='["Agriculture","Business services","Construction","Education and Health","Finance","Government"]'
            range='["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949"]'
            markType="rect"
          >
          </color-legend>
        </script>
      </div>

      <h3>Categorical with markType set to line</h3>

      <div class="example">
        <color-legend
          width="350"
          titleText="Business Sectors"
          scaleType="categorical"
          domain='["Agriculture","Business services","Construction","Education and Health","Finance","Government"]'
          range='["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949"]'
          markType="line"
        >
        </color-legend>

        <script type="text/plain" class="language-markup">
          <color-legend
            width="350"
            titleText="Business Sectors"
            scaleType="categorical"
            domain='["Agriculture","Business services","Construction","Education and Health","Finance","Government"]'
            range='["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949"]'
            markType="line"
          >
          </color-legend>
        </script>
      </div>

      <h3>Hidden</h3>

      <p>
        Hide the Color Legend Element by setting its
        <code class="language-text">hidden</code> attribute:
      </p>

      <fieldset>
        <input id="toggle-hidden" type="checkbox" />
        <label for="toggle-hidden">Hide Legend</label>
      </fieldset>

      <color-legend class="hidden-demo"></color-legend>

      <script>
        let cle = document.querySelector(".hidden-demo");
        let toggle = document.getElementById("toggle-hidden");
        toggle.addEventListener("change", function () {
          cle.hidden = !cle.hidden;
        });
      </script>

      <h2>Styling using CSS</h2>

      <p>
        Styles are encapsulated using the Shadow DOM and thus will not bleed out
        to pollute the style of other DOM elements. Its default styles may be
        customized by overriding one or more of its CSS variables (custom
        properties). All CSS variables are prefixed with
        <code class="language-text">cle</code>, for example
        <code class="language-text">--cle-font-family</code> will set the
        font-family property for legend items and axis tick text.
      </p>

      <div class="example">
        <color-legend class="styled"></color-legend>

        <style>
          color-legend.styled {
            --cle-font-family: serif;
            --cle-font-family-title: Impact;
            --cle-letter-spacing-title: 0.5px;
            --cle-color: white;
            --cle-background: #222;
            --cle-border-radius: 6px;
            --cle-padding: 0.25rem 0.25rem 0.75rem;
          }
        </style>

        <script type="text/plain" class="language-markup">
          <color-legend class="styled"></color-legend>
        </script>

        <script type="text/plain" class="language-css">
          color-legend.styled {
            --cle-font-family: serif;
            --cle-font-family-title: Impact;
            --cle-letter-spacing-title: 0.5px;
            --cle-color: white;
            --cle-background: #222;
            --cle-border-radius: 6px;
            --cle-padding: 0.25rem 0.25rem .75rem;
          }
        </script>
      </div>
    </main>

    <script src="docs/prism.js"></script>
    <script>
      let cle = document.querySelector("color-legend");
      console.log(cle);
    </script>
  </body>
</html>
